(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"0589":function(e,t,r){"use strict";var a=r("c973"),n=r.n(a),o=(r("96cf"),r("758b"));function i(e){return s.apply(this,arguments)}function s(){return s=n()(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].get("/BuyOrders/GetHistoryBuysByIdBuyer?idBuyer=".concat(encodeURIComponent(t)));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function c(e){return d.apply(this,arguments)}function d(){return d=n()(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].put("/BuyOrders/ReceivedBuyer",t);case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function u(){return l.apply(this,arguments)}function l(){return l=n()(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].get("/BuyOrders/GetBuySummary");case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}t["a"]={GetHistoryBuysByIdBuyer:i,ReceivedBuyer:c,GetBuySummary:u}},4586:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"row q-col-gutter-sm"},[r("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[r("q-card",{},[r("q-card-section",{staticClass:"text-center text-h6"},[r("q-icon",{staticClass:"q-mr-sm",attrs:{name:"history"}}),e._v("Historial de Compras\n      ")],1)],1),r("q-table",{attrs:{data:e.dataHistory,columns:e.columns,"row-key":"name",pagination:e.pagination,filter:e.filter},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[r("ButtonExportExcel",{attrs:{myName:"Historico de Compras SNB&S",myWorksheet:"Hist贸rico de Compras",myData:e.dataHistory,myExportFields:{"Fecha de Compra":"fechaHoraOrdenCompra","Publicaci贸n":"tituloPublicacion",Cantidad:"cantidad",Total:"totalCompra",Estado:"estadoOrdenCompra"}}}),r("q-btn",{attrs:{round:"",color:"green",icon:"refresh"},on:{click:e.getHistoryBuyers}}),r("q-space"),r("q-input",{attrs:{borderless:"",dense:"",debounce:"300",color:"primary"},scopedSlots:e._u([{key:"append",fn:function(){return[r("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]},proxy:!0},{key:"body",fn:function(t){return[r("q-tr",{attrs:{props:t}},[r("q-td",{key:"idOrdenCompra",attrs:{props:t}},[e._v(e._s(t.row.idOrdenCompra))]),r("q-td",{key:"fechaHoraOrdenCompra",attrs:{props:t}},[e._v(e._s(t.row.fechaHoraOrdenCompra))]),r("q-td",{key:"vendedor",attrs:{props:t}},[e._v(e._s(t.row.vendedor))]),r("q-td",{key:"tituloPublicacion",attrs:{props:t}},[e._v(e._s(t.row.tituloPublicacion))]),r("q-td",{key:"cantidad",attrs:{props:t}},[e._v(e._s(t.row.cantidad))]),r("q-td",{key:"totalCompra",attrs:{props:t}},[e._v(e._s(t.row.totalCompra))]),r("q-td",{key:"estadoOrdenCompra",attrs:{props:t}},[e._v(e._s(t.row.estadoOrdenCompra))]),r("q-td",{key:"actions",attrs:{props:t}},["Aprobada"==t.row.estadoOrdenCompra?[r("q-btn",{attrs:{color:"positive",label:"Recibido",size:"sm",flat:"",dense:""},on:{click:function(r){return e.received(t.row)}}})]:e._e()],2)],1)]}}])})],1),r("q-dialog",{model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("q-card",[r("q-card-section",{staticClass:"row items-center q-pb-none"},[r("div",{staticClass:"text-h6"},[e._v("Calificar Producto")]),r("q-space"),r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{icon:"close",flat:"",round:"",dense:""}})],1),r("q-card-section",{staticClass:"q-pt-none"},[r("div",{staticClass:"text-subtitle2 q-mt-sm"},[r("q-rating",{attrs:{size:"2em",color:"green-5"},model:{value:e.raiting,callback:function(t){e.raiting=t},expression:"raiting"}})],1)]),r("q-card-actions",{attrs:{align:"right"}},[r("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Calificar",color:"primary"},on:{click:e.rate}})],1)],1)],1)],1)},n=[],o=r("c973"),i=r.n(o),s=r("ded3"),c=r.n(s),d=(r("96cf"),r("0589")),u=r("b4a6"),l=r("2f62"),p={components:{ButtonExportExcel:u["a"]},data:function(){return{dataHistory:[],columns:[{name:"idOrdenCompra",label:"Id",field:"idOrdenCompra",sortable:!0},{name:"fechaHoraOrdenCompra",label:"Fecha de Compra",field:"fechaHoraOrdenCompra",sortable:!0},{name:"vendedor",label:"Vendedor",field:"vendedor",sortable:!0},{name:"tituloPublicacion",label:"Publicaci贸n",field:"tituloPublicacion",sortable:!0},{name:"cantidad",label:"Cantidad",field:"cantidad",sortable:!0},{name:"totalCompra",label:"Total",field:"totalCompra",sortable:!0},{name:"estadoOrdenCompra",label:"Estado",field:"estadoOrdenCompra",sortable:!0},{name:"actions",label:"Acciones",field:"actions"}],filter:"",pagination:{rowsPerPage:15},dialog:!1,raiting:1,idSaleOrder:0,idBuyOrder:0}},computed:c()({},Object(l["c"])("auth",["user"])),mounted:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getHistoryBuyers();case 2:case"end":return t.stop()}}),t)})))()},methods:{getHistoryBuyers:function(){var e=this;return i()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,d["a"].GetHistoryBuysByIdBuyer(parseInt(e.user.idUser));case 3:e.dataHistory=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},received:function(e){var t=this;return i()(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:t.dialog=!0,console.log(e),t.idSaleOrder=e.idOrdenVenta,t.idBuyOrder=e.idOrdenCompra;case 4:case"end":return r.stop()}}),r)})))()},rate:function(e){var t=this;return i()(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(e),t.$q.loading.show(),r.prev=2,r.next=5,d["a"].ReceivedBuyer({idSaleOrder:parseInt(t.idSaleOrder),idBuyOrder:parseInt(t.idBuyOrder),raiting:parseInt(t.raiting)});case 5:return r.next=7,t.getHistoryBuyers();case 7:t.$q.notify({type:"positive",position:"center",message:"Gracias por su calificaci贸n"}),r.next=14;break;case 10:r.prev=10,r.t0=r["catch"](2),console.log(r.t0),t.$q.notify({type:"negative",position:"center",message:"Error Interno, Intente mas Tarde"});case 14:return r.prev=14,t.$q.loading.hide(),r.finish(14);case 17:case"end":return r.stop()}}),r,null,[[2,10,14,17]])})))()}}},m=p,f=r("42e1"),y=r("f09f"),b=r("a370"),g=r("0016"),v=r("eaac"),h=r("9c40"),w=r("2c91"),C=r("27f9"),x=r("bd08"),q=r("db86"),O=r("24e8"),k=r("daf4"),B=r("4b7e"),_=r("7f67"),R=r("eebe"),H=r.n(R),S=Object(f["a"])(m,a,n,!1,null,null,null);t["default"]=S.exports;H()(S,"components",{QCard:y["a"],QCardSection:b["a"],QIcon:g["a"],QTable:v["a"],QBtn:h["a"],QSpace:w["a"],QInput:C["a"],QTr:x["a"],QTd:q["a"],QDialog:O["a"],QRating:k["a"],QCardActions:B["a"]}),H()(S,"directives",{ClosePopup:_["a"]})},b4a6:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("download-excel",{attrs:{worksheet:e.myWorksheet,name:e.myName,data:e.myData,"export-fields":e.myExportFields}},[r("q-btn",{attrs:{round:"",color:"primary",icon:"download"}})],1)},n=[],o={props:{myWorksheet:String,myName:String,myData:{type:Array,default:function(){return[]}},myExportFields:{type:Object,default:function(){return[]}},created:function(){console.log(JSON.parse(JSON.stringify(this.myExportFields)))}}},i=o,s=r("42e1"),c=r("9c40"),d=r("eebe"),u=r.n(d),l=Object(s["a"])(i,a,n,!1,null,"e4bf5a7a",null);t["a"]=l.exports;u()(l,"components",{QBtn:c["a"]})}}]);