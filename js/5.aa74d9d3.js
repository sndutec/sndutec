(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[5],{a569:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"q-pa-sm"},[a("div",{staticClass:"row q-col-gutter-sm"},[a("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[a("q-card",{},[a("q-card-section",{staticClass:"text-center text-h6"},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"description"}}),t._v("Detalle del Producto\n        ")],1),a("q-card-section",{attrs:{horizontal:""}},[a("q-card-section",{staticClass:"col-5 flex flex-center"},[a("figure",{staticStyle:{float:"left",width:"50%"}},[a("q-zoom",{attrs:{"background-color":"black"}},[a("img",{staticClass:"my-image-portrait",attrs:{src:"data:image/jpeg;base64,"+this.shoppingCart[0].imagen,height:"250px",alt:"QZoom with portrait image"}})]),a("figcaption")],1)]),a("q-card-section",{},[a("div",{staticClass:"text-subtitle2 q-mt-sm"},[a("q-rating",{attrs:{size:"2em",color:"green-5",readonly:""},model:{value:this.shoppingCart[0].raiting,callback:function(e){t.$set(this.shoppingCart[0],"raiting",e)},expression:"this.shoppingCart[0].raiting"}})],1),a("div",{staticClass:"text-subtitle2 q-mb-sm text-weight-bolder"},[t._v(t._s(this.shoppingCart[0].titulo))]),a("div",{staticClass:"text-subtitle2 q-mb-xs"},[t._v(t._s(this.shoppingCart[0].descripcion))]),a("div",{staticClass:"text-subtitle2 q-mb-xs text-weight-bolder"},[t._v("$"+t._s(this.shoppingCart[0].precio))]),a("div",{staticClass:"text-subtitle2 q-mb-xs"},[t._v(t._s(t.dateFormat(this.shoppingCart[0].fechaPublicacion)))])])],1),a("q-separator")],1)],1),a("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[a("q-card",{},[a("q-card-section",{staticClass:"text-center text-h6"},[a("q-icon",{staticClass:"q-mr-sm",attrs:{name:"shopping_cart"}}),t._v("Comprar Producto\n        ")],1),a("q-stepper",{ref:"stepper",attrs:{"header-nav":"",color:"primary",animated:""},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a("q-step",{attrs:{name:1,title:"Mis Datos",icon:"shopping_cart",done:t.step>1,"header-nav":t.step>1}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-6"},[a("q-item",[a("q-input",{staticClass:"full-width",attrs:{dense:"",outlined:"",label:"Nombre *",readonly:""},model:{value:this.user.nameUser,callback:function(e){t.$set(this.user,"nameUser",e)},expression:"this.user.nameUser"}})],1)],1),a("div",{staticClass:"col-6"},[a("q-item",[a("q-input",{staticClass:"full-width",attrs:{dense:"",outlined:"",label:"Telefono *",readonly:""},model:{value:this.user.phone,callback:function(e){t.$set(this.user,"phone",e)},expression:"this.user.phone"}})],1)],1),a("div",{staticClass:"col-12"},[a("q-item",[a("q-input",{staticClass:"full-width",attrs:{filled:"",type:"number",label:"Cantidad","lazy-rules":"",rules:t.rules.requiredNumber},model:{value:t.cantidad,callback:function(e){t.cantidad=t._n(e)},expression:"cantidad"}})],1)],1),a("div",{staticClass:"col-12"},[a("q-item",[a("q-input",{staticClass:"full-width",attrs:{dense:"",autogrow:"",outlined:"",label:"DirecciÃ³n de Entrega"},model:{value:t.direccionEntrega,callback:function(e){t.direccionEntrega=e},expression:"direccionEntrega"}})],1)],1),a("div",{staticClass:"col-12"},[a("q-item",[a("q-input",{staticClass:"full-width",attrs:{dense:"",outlined:"",type:"textarea",label:"comentarios / telefono adicional",maxlength:"100"},model:{value:t.comentario,callback:function(e){t.comentario=e},expression:"comentario"}})],1)],1)]),a("q-stepper-navigation",[a("q-btn",{staticClass:"float-right q-mr-md q-mb-md",attrs:{rounded:"",color:"blue",label:"Siguiente"},on:{click:function(){t.done1=!0,t.step=2}}})],1)],1),a("q-step",{attrs:{name:2,title:"Confirmar Compra",icon:"shopping_cart","header-nav":t.step>2}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("q-item-label",{staticClass:"text-h6",attrs:{header:""}},[t._v("Resumen de Pedido")]),a("q-item",{staticClass:"full-width"},[a("q-item-section",[a("q-item-label",{attrs:{lines:"1"}},[t._v(t._s(this.shoppingCart[0].titulo))]),a("q-item-label",{attrs:{caption:""}},[t._v("Precio")])],1),a("q-item-section",{attrs:{side:""}},[t._v("$"+t._s(this.shoppingCart[0].precio))])],1),a("q-separator"),a("q-item",{staticClass:"full-width",staticStyle:{"border-top":"3px dotted blue"}},[a("q-item-section",[a("q-item-label",{attrs:{lines:"1"}},[t._v("Total")])],1),a("q-item-section",{staticClass:"text-red text-weight-bolder text-h6",attrs:{side:""}},[t._v("$"+t._s(this.cantidad*this.shoppingCart[0].precio))])],1)],1)]),a("q-stepper-navigation",[a("q-btn",{staticClass:"float-right q-mr-md q-mb-md",attrs:{rounded:"",color:"blue",label:"Realizar Pedido"},on:{click:function(e){return t.placeOrder()}}}),a("q-btn",{staticClass:"q-mr-sm float-right",attrs:{flat:"",color:"primary",rounded:"",label:"Atras"},on:{click:function(e){t.step=1}}})],1)],1)],1)],1)],1)])])},s=[],i=a("c973"),n=a.n(i),o=a("ded3"),c=a.n(o),l=(a("96cf"),a("2f62")),d=a("bd4c"),u=a("f15b"),p=d["a"].formatDate,m={name:"DetailProduct",data:function(){return{step:1,cantidad:1,direccionEntrega:"",comentario:"",rules:{required:[function(t){return!!t||"Campo Requerido."}],requiredNumber:[function(t){return null!==t&&""!==t||"Ingrese Cantidad"},function(t){return t>0&&t<20||"Ingrese Cantidad Real"}]}}},computed:c()(c()({},Object(l["c"])("shoppingCart",["shoppingCart"])),Object(l["c"])("auth",["user"])),mounted:function(){console.log(this.shoppingCart),console.log(this.user)},methods:{dateFormat:function(t){return p(t,"DD-MM-YYYY")},placeOrder:function(){var t=this;return n()(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.$q.loading.show(),e.next=4,u["a"].addSale({idPublicacion:parseInt(t.shoppingCart[0].idPublicacion),idUsuario:parseInt(t.shoppingCart[0].idUsuario),estadoOrdenVenta:"1",cantidad:parseInt(t.cantidad),idComprador:parseInt(t.user.idUser),direccionEntrega:t.direccionEntrega,comentario:t.comentario});case 4:t.$q.notify({type:"positive",position:"center",message:"Solicitud deCompra Realizada, Puede darle seguimiento en su Historial"}),setTimeout((function(){t.$router.push({path:"/HistorialCompras"}).catch((function(t){console.log(t)}))}),4e3),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0),t.$q.notify({type:"negative",position:"center",message:"Error Interno, Intente mas Tarde"});case 12:return e.prev=12,t.$q.loading.hide(),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,8,12,15]])})))()}}},h=m,f=(a("d5ce"),a("42e1")),g=a("9989"),b=a("f09f"),q=a("a370"),C=a("0016"),v=a("068f"),x=a("daf4"),w=a("eb85"),y=a("f531"),S=a("87fe"),_=a("66e5"),k=a("27f9"),R=a("b19c"),I=a("9c40"),Q=a("0170"),$=a("4074"),P=a("eebe"),O=a.n(P),E=Object(f["a"])(h,r,s,!1,null,"3d0e9f3f",null);e["default"]=E.exports;O()(E,"components",{QPage:g["a"],QCard:b["a"],QCardSection:q["a"],QIcon:C["a"],QImg:v["a"],QRating:x["a"],QSeparator:w["a"],QStepper:y["a"],QStep:S["a"],QItem:_["a"],QInput:k["a"],QStepperNavigation:R["a"],QBtn:I["a"],QItemLabel:Q["a"],QItemSection:$["a"]})},bd37:function(t,e,a){},d5ce:function(t,e,a){"use strict";a("bd37")},f15b:function(t,e,a){"use strict";var r=a("c973"),s=a.n(r),i=(a("96cf"),a("758b"));function n(t){return o.apply(this,arguments)}function o(){return o=s()(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].post("/SaleOrders/AddSale",e);case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}function c(t){return l.apply(this,arguments)}function l(){return l=s()(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].get("/SaleOrders/GetHistorySalesByIdSeller?idSeller=".concat(encodeURIComponent(e)));case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)}))),l.apply(this,arguments)}function d(t){return u.apply(this,arguments)}function u(){return u=s()(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].post("/SaleOrders/AprovveSale",e);case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}function p(t){return m.apply(this,arguments)}function m(){return m=s()(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,i["a"].post("/SaleOrders/RejectSale",e);case 2:return a=t.sent,t.abrupt("return",a.data);case 4:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}e["a"]={addSale:n,GetHistorySalesByIdSeller:c,AprovveSale:d,RejectSale:p}}}]);